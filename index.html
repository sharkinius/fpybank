<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FPYBANK</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #6a11cb, #2575fc);
      color: white;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      background: #6a11cb;
      padding: 20px;
      font-size: 2rem;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    main { margin-top: 30px; padding: 20px; }
    input, button {
      display: block;
      width: 80%;
      max-width: 300px;
      margin: 10px auto;
      padding: 12px;
      font-size: 1rem;
      border-radius: 10px;
      border: none;
    }
    input { border: 1px solid #ccc; color: #333; }
    button {
      background: #6a11cb;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover { background: #4c0fa8; }
    .hidden { display: none; }
    #balance { font-size: 1.5rem; margin: 20px 0; }
    .task {
      background: white;
      color: black;
      padding: 10px;
      margin: 10px;
      border-radius: 8px;
      cursor: pointer;
    }
    .task.done {
      background: #4caf50;
      color: white;
    }
    .mobile input, .mobile button {
      max-width: 90%;
      font-size: 1.2rem;
      padding: 16px;
    }
  </style>
</head>
<body>

<header>FPYBANK</header>

<main>
  <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ -->
  <div id="deviceSelect">
    <h2>–í—ã —Å —á–µ–≥–æ?</h2>
    <button onclick="startPC()">–ü–ö</button>
    <button onclick="startPhone()">–¢–µ–ª–µ—Ñ–æ–Ω</button>
  </div>

  <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
  <div id="register" class="hidden">
    <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
    <input type="text" id="phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
    <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button id="registerBtn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
    <p id="error" style="color: red;"></p>
  </div>

  <!-- –ö–∞–±–∏–Ω–µ—Ç -->
  <div id="cabinet" class="hidden">
    <div id="balance">–ë–∞–ª–∞–Ω—Å: <span id="money">0</span> ‚ÇΩ</div>
    <button onclick="openTransfers()">–ü–µ—Ä–µ–≤–æ–¥—ã</button>
    <button onclick="openWithdraw()">–í—ã–≤–æ–¥</button>
    <button onclick="openTasks()">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–µ–Ω—å–≥–∏</button>
  </div>

  <!-- –ü–µ—Ä–µ–≤–æ–¥—ã -->
  <div id="transfers" class="hidden">
    <h2>–ü–µ—Ä–µ–≤–æ–¥—ã</h2>
    <input type="text" id="targetPhone" placeholder="–ù–æ–º–µ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª—è">
    <input type="number" id="amount" placeholder="–°—É–º–º–∞">
    <button onclick="checkTransfer()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    <p id="transferResult"></p>
    <button onclick="backToCabinet()">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- –í—ã–≤–æ–¥ -->
  <div id="withdraw" class="hidden">
    <h2>–í—ã–≤–æ–¥</h2>
    <p>–°–∞–π—Ç –≤ –±–µ—Ç–µ, –æ–∂–∏–¥–∞–π—Ç–µ üöß</p>
    <button onclick="backToCabinet()">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- –ó–∞–¥–∞–Ω–∏—è -->
  <div id="tasks" class="hidden">
    <h2>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –¥–µ–Ω—å–≥–∏</h2>
    <div id="taskList"></div>
    <button onclick="backToCabinet()">–ù–∞–∑–∞–¥</button>
  </div>
</main>

<script>
  const deviceSelect = document.getElementById("deviceSelect");
  const registerDiv = document.getElementById("register");
  const cabinetDiv = document.getElementById("cabinet");
  const moneyEl = document.getElementById("money");
  const registerBtn = document.getElementById("registerBtn");
  const error = document.getElementById("error");

  let balance = 0;

  // –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
  function startPC() {
    deviceSelect.classList.add("hidden");
    registerDiv.classList.remove("hidden");
  }
  function startPhone() {
    document.body.classList.add("mobile");
    deviceSelect.classList.add("hidden");
    registerDiv.classList.remove("hidden");
  }

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
  registerBtn.addEventListener("click", () => {
    const password = document.getElementById("password").value;
    if (password.trim() === "") {
      error.textContent = "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å!";
    } else {
      registerDiv.classList.add("hidden");
      cabinetDiv.classList.remove("hidden");
    }
  });

  // –ü–µ—Ä–µ–≤–æ–¥—ã
  function openTransfers() {
    cabinetDiv.classList.add("hidden");
    document.getElementById("transfers").classList.remove("hidden");
  }
  function checkTransfer() {
    document.getElementById("transferResult").textContent = "–ù–µ –Ω–∞–π–¥–µ–Ω";
  }

  // –í—ã–≤–æ–¥
  function openWithdraw() {
    cabinetDiv.classList.add("hidden");
    document.getElementById("withdraw").classList.remove("hidden");
  }

  // –ó–∞–¥–∞–Ω–∏—è
  function openTasks() {
    cabinetDiv.classList.add("hidden");
    document.getElementById("tasks").classList.remove("hidden");

    const taskList = document.getElementById("taskList");
    taskList.innerHTML = "";

    for (let i = 1; i <= 15; i++) {
      const task = document.createElement("div");
      task.className = "task";
      task.textContent = `–ó–∞–¥–∞–Ω–∏–µ ${i}`;
      task.onclick = () => startTask(task);
      taskList.appendChild(task);
    }
  }

  function startTask(task) {
    if (task.classList.contains("done")) return;

    const type = Math.floor(Math.random() * 3); // 0,1,2 ‚Üí —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
    let success = false;

    if (type === 0) {
      const num = Math.floor(Math.random() * 5) + 1;
      const guess = prompt("–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 5:");
      if (parseInt(guess) === num) success = true;
    } else if (type === 1) {
      const answer = prompt("–°–∫–æ–ª—å–∫–æ –±—É–¥–µ—Ç 2+2?");
      if (answer === "4") success = true;
    } else {
      const text = "FPY";
      const input = prompt(`–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ: ${text}`);
      if (input === text) success = true;
    }

    if (success) {
      task.classList.add("done");
      task.textContent += " ‚úî –í—ã–ø–æ–ª–Ω–µ–Ω–æ (+50 ‚ÇΩ)";
      balance += 50;
      moneyEl.textContent = balance;
    } else {
      alert("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!");
    }
  }

  // –ù–∞–∑–∞–¥ –≤ –∫–∞–±–∏–Ω–µ—Ç
  function backToCabinet() {
    document.querySelectorAll("main > div").forEach(div => div.classList.add("hidden"));
    cabinetDiv.classList.remove("hidden");
  }
</script>

</body>
</html>
